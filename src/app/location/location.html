<ng-include src=" 'location/location.modal.html' "></ng-include>
<div class="container-fluid" id="main-container" >

  <div class="table-responsive ual-table">
    <table class="table table-hover">
      <thead>
      <tr>
        <th>规则名称</th>
        <th>路径匹配</th>
        <th>URL重写</th>
        <th>后端服务</th>
        <th>认证策略</th>
        <th>动态代理</th>
        <th class="addPng" style="text-align: left" data-toggle="modal" data-target="#location" title="添加">+</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="location in locationCtrl.locations">
        <td colspan="1">{{location.locationName}}</td>
        <td>{{location.urimatch}}</td>
        <td>{{location.rewrite}}</td>
        <td>{{location.upstream.serviceName}}</td>
        <td ng-repeat="lua in location.luas">{{lua.fileName == 'auth' ? lua.fileName : ''}}</td>
        <td ng-if="location.luas.length < 1"></td>
        <td ng-repeat="lua in location.luas">{{lua.fileName == 'dynamic_proxy' ? lua.fileName : ''}}</td>
        <td ng-if="location.luas.length < 1"></td>
        <!--<td style="cursor: pointer" data-toggle="modal" ><img class="settingImg" src="../images/setting.png"></td>-->
        <td style="text-align: left;width: 100px" >
          <img class="settingImg" src="images/setting.png" data-toggle="modal" ng-click="locationCtrl.getLocationId($index,'setting')" title="编辑">
          &nbsp;&nbsp;&nbsp;
          <span class="delPng" data-toggle="modal" ng-click="locationCtrl.getLocationId($index,'del')" title="删除">&times;</span>
        </td>
      </tr>
      </tbody>
    </table>

  </div>


</div>
